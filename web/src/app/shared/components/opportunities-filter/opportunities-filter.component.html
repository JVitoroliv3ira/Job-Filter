<section class="container bg-light p-3 shadow-sm">
    <div class="row mb-2">
      <div class="col-12">
        <fieldset class="form-group">
          <label class="mb-1">Título da vaga</label>
          <div class="input-group">
            <input
              [(ngModel)]="filter.name" 
              type="text" 
              class="form-control" 
              placeholder="Filtrar vaga pelo título...">
            <div class="input-group-append">
              <button
                (click)="submit()" 
                class="btn btn-success" 
                type="button">
                <i class="bi bi-search"></i>
              </button>
            </div>
          </div>
        </fieldset>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <button 
          (click)="toggleAdvancedFilterVisibility()" 
          style="font-size: 12px; background: none; border: none;">
            {{ advancedFilterIsExpanded ? 'Ocultar filtro avançado' : 'Exibir filtro avançado' }}
        </button>
      </div>
    </div>
</section>
<section *ngIf="advancedFilterIsExpanded" class="container bg-body-secondary p-3 shadow-sm">
    <div class="row mb-2">
        <div class="col-12">
            <label class="mb-1">Descrição da vaga</label>
            <textarea 
                [(ngModel)]="filter.description"
                class="form-control" style="height: 70px; resize: none;" 
                placeholder="Filtrar vaga pela descrição..."></textarea>
        </div>
    </div>
    <div class="row">
        <div class="col-3">
            <label class="mb-1">Nome da empresa</label>
            <input
                [(ngModel)]="filter.companyName"
                type="text"
                class="form-control"
                placeholder="Filtrar vaga pelo nome da empresa..."/>
        </div>
        <div class="col-3">
            <label class="mb-1">Salário</label>
            <input
                [(ngModel)]="filter.salary"
                type="text"
                class="form-control"
                placeholder="Filtrar vaga pelo salário..."/>
        </div>
        <div class="col-3">
            <label class="mb-1">Modalidade da vaga</label>
            <ng-select
              placeholder="Filtrar vaga por modalidade..."
              notFoundText="Nenhuma modalidade encontrada."
              [items]="types"
              bindLabel="value"
              [loading]="loadingOpportunitiesTypes"
              [(ngModel)]="filter.type">
            </ng-select>
        </div>
        <div class="col-3">
            <label class="mb-1">Tags associadas</label>
            <ng-select
              placeholder="Filtrar vaga por tag..."
              notFoundText="Nenhuma tag encontrada."
              [items]="tags"
              bindLabel="name"
              [loading]="loadingTags"
              [(ngModel)]="filter.tag">
            </ng-select>
        </div>
    </div>
</section>